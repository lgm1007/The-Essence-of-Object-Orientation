# Chapter 02
## 이상한 나라의 객체
### 객체, 소프트웨어 나라
* 객체의 다양한 특성을 설명하기 위해 객체를 **상태, 행동, 식별자**를 지닌 실체로 보는 것이 가장 효과적이다.
* **상태**
  * 아래 예시의 공통점은 어떤 행동의 결과는 과거에 어떤 행동들이 일어났었느냐에 의존한다는 것
    * 자판기에 충분한 동전을 넣기 전까진 원하는 음료를 선택할 수 없다.
    * 원하는 층을 누르기 전까지는 엘리베이터는 움직이지 않는다.
    * 운전하기 위해서는 먼저 자동차 시동을 걸어야 한다.
  * 일반적으로 과거에 발생한 행동의 이력을 통해 현재 발생한 행동의 결과를 판단하는 방식은 복잡하다.
    * 상태: **행동의 과정과 결과**를 단순하게 기술하기 위함
    * 과거의 모든 행동 이력을 설명하지 않고도 상태만으로 행동의 결과를 쉽게 예측하고 설명 가능
* **상태와 프로퍼티**
  * 때로 단순한 값이 아닌 객체를 사용해서 다른 객체의 상태를 표현해야 할 떄가 있다.
  * **모든 객체의 상태는 단순한 값과 객체의 조합**으로 표현할 수 있다.
    * 이때 객체의 상태를 구성하는 모든 특징을 통틀어 객체의 **프로퍼티**라고 한다.
    * **프로퍼티**는 일반적으로 변경되지 않고 고정되기 때문에 **정적**이다.
    * 반면, **프로퍼티 값**은 시간이 지남에 따라 변경되기 때문에 **동적**이다.
  * **링크**
    * 객체와 객체 사이의 **의미 있는 연결**을 링크라고 함
  * **속성**
    * 객체를 구성하는 단순한 값
  * 객체의 프로퍼티는 **속성과 링크**라는 두 가지 종류의 조합으로 표현할 수 있다.
* 객체지향에서 객체는 **다른 객체의 상태에 직접 접근할 수도, 상태를 변경할 수도 없다.**
  * 자율적인 객체는 스스로 자신의 상태를 책임져야 한다.
* **상태와 행동 사이의 관계**
  * 객체의 행동은 상태에 영향을 받는다.
  * 객체의 행동은 상태를 변경시킨다.
* 객체의 행동은 다음 관점의 부수효과를 명확히 서술해야 한다.
  * 객체 자신의 상태 변경
  * 행동 내에서 협력하는 다른 객체에 대한 메시지 전송
* **상태 캡슐화**
  * 메시지 송신자는 메시지 수신자의 상태 변경에 대해서는 알지 못한다.
  * 객체는 상태를 캡슐화하여 외부로 노출하지 않는다.
  * 외부에 노출하는 것은 행동 뿐, 외부에서 객체에 접근할 수 있는 유일한 방법 또한 행동 뿐이다.

### 식별자
* 객체를 **서로 구별할 수 있는 특정한 프로퍼티**
* 모든 객체는 식별자를 갖는다. 반대로 객체가 아닌 단순한 값은 식별자를 가지지 않는다.
  * 값은 숫자, 문자열, 날짜, 시간 등 변하지 않는 양을 모델링
  * 값의 상태는 변하지 않으므로 불변 상태를 가진다고 한다.
* 두 값이 같은지 판단할 수 있는 성질을 **동등성**이라고 한다.
* 식별자를 기반으로 객체가 같은지 판단할 수 있는 성질을 **동일성**이라고 한다.
  * 두 객체의 상태가 다르더라도 식별자가 같다면 두 객체를 같은 객체로 판단 가능

### 기계로서의 객체
* **쿼리**: 객체의 상태를 조회하는 작업
* **명령**: 객체의 상태를 변경하는 작업

### 행동이 상태를 결정한다.
* 상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향
  * 상태를 먼저 결정하면 **캡슐화가 저해**된다.
  * 객체가 협력에 적합하지 못하게 된다.
  * 객체의 **재사용성이 저하**된다.
* 객체지향 설계는 애플리케이션에 필요한 **협력**을 생각하고 협력에 참여하는 데 필요한 **행동**을 생각한 후 행동을 수행할 객체를 선택하는 방식으로 수행된다.
  * 행동을 결정한 후에 행동에 필요한 정보가 무엇인지 고려하고, 그 과정에서 필요한 상태가 결정된다.
  * 협력 안에서 객체의 행동은 결국 협력에 참여하면서 완수해야 할 **책임**을 의미
    * **책임-주도 설계** (Responsibility-Driven Design, RDD)

### 은유와 객체
* 객체지향 세계를 구축할 떄 객체는 현실 속에서 할 수 없는 일이라도 할 수 있는 존재가 된다.
  * 현실의 트럼프 카드는 스스로 뒤집을 수도, 말 할 수도 없다.
  * 현실의 객체보다 더 많은 일을 할 수 있는 소프트웨어 객체의 특징을 **의인화**라고 함
* 객체지향의 세계와 현실 세계 사이에는 전혀 상관이 없는가? 그렇지는 않다.
  * 현실 세계와 객체지향 세계 사이의 관계를 좀 더 정확히 설명하는 단어는 **은유**이다.
  * 은유: 한 종류의 사물을 다른 종류의 사물 관점에서 이해하고 경험
    * 실제 객체의 이름을 소프트웨어 객체 이름으로 사용하면 표현적 차이를 줄여준다.
* 객체지향 설계자의 목적은 현실을 모방하는 것이 아닌 새로운 세계를 창조하는 것
