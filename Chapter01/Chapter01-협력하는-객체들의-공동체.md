# Chapter 01
## 협력하는 객체들의 공동체
### 시너지를 생각하라
* 객체지향의 목표는 실세계를 모방하는 것이 아니다.
  * 단순히 실세계를 소프트웨어 안으로 담는 것이 아니라 사용자를 만족시킬 수 있는 신세계를 창조하는 것
* 실세계의 사물을 기반으로 한 소프트웨어 객체를 식별하고 구현한 개념은 객체지향 설계의 핵심 사상인 **연결완전성**을 설명하는 데 적합

### 협력하는 사람들
* 카페 손님들은 캐시어에게 커피를 주문 → 캐시어가 바리스타에게 만들 음료를 알림 → 바리스타가 주문이 들어온 커피를 만듬
  * 커피 제조 과정의 역할, 책임, 협력
    * **협력**: 커피 주문
    * **역할**: 손님, 캐시어, 바리스타
    * **책임**:
      * 손님: 커피를 주문할 책임
      * 캐시어: 손님의 주문을 받는 책임
      * 바리스타: 주문이 들어온 커피를 만드는 책임
* 사람들이 협력을 위해 특정한 역할을 맡고 역할에 적합한 책임을 수행한다는 사실은 몇 가지 중요한 개념을 제시한다.
  * **여러 사람이 동일한 역할**을 수행할 수 있다.
  * **역할은 대체 가능성**을 의미한다.
    * ex) 손님 입장에서 캐시어는 대체 가능
  * **책임을 수행하는 방법은 자율적으로 선택 가능**하다.
    * ex) 주문을 받은 바리스타는 자신만의 스타일로 커피 제조 가능
  * 한 사람이 **동시에 여러 역할**을 수행할 수 있다.
    * ex) 한 사람이 캐시어와 바리스타 동시에 수행 가능

### 역할, 책임, 협력
* 기능을 구현하기 위해 협력하는 객체들
  * 사람 👉 객체
  * 주문 및 요청 👉 메시지
  * 요청 처리 방법 👉 메서드
* 애플레케이션의 기능은 더 작은 책임으로 분할되고, 책임은 적절한 역할을 수행할 수 있는 객체에 의해 수행
  * 시스템은 역할과 책임을 수행하는 객체로 분할
  * 시스템의 기능은 객체 간의 연쇄적인 요청 및 응답의 흐름으로 구성된 **협력**으로 구현
* 객체지향 설계는 **적절한 객체**에게 **적절한 책임**을 할당하는 것에서부터 시작
  * **책임은 객체지향 설계의 품질**을 결정하는 가장 중요한 요소
* 역할은 협력에 참여하는 객체에 대한 페르소나
  * 역할은 관련성 높은 책임의 집합
    * 여러 객체가 동일한 역할을 수행할 수 있다.
    * 역할은 대체 가능성을 의미한다.
    * 각 객체는 책임을 수행하는 방법을 자율적으로 선택할 수 있다.
    * 하나의 객체가 동시에 여러 역할을 수행할 수 있다.

### 협력 속에 사는 객체
* 애플리케이션 내부에서는 쉴 새 없이 메시지를 주고받으며 협력하는 객체가 존재
* 객체는 협력 공동체로서 다음 두 가지를 갖춰야 한다.
  1. 객체는 충분히 **협력적**이어야 한다.
     * 객체는 다른 객체의 요청에 충실히 귀 기울이고 다른 객체에게 도움을 요청하는 협력적인 마음을 지녀야 한다.
     * 모든 것을 스스로 처리하는 전지전능한 객체는 내부의 복잡도로 자멸한다.
     * 객체는 다른 객체의 명령에 복종하는 것이 아닌, 요청에 응답할 뿐
  2. 객체는 충분히 **자율적**이어야 한다.
     * 자신의 행동을 스스로 결정하고 책임진다. → 자율적인 존재
     * 객체 공동체에 속한 객체들은 공동의 목표를 달성하기 위해 협력에 참여하지만, 스스로의 결정과 판단에 따라 행동한다.
     * 조화롭게 협력할 수 있을 만큼 충분히 개방적이면서, 협력에 참여하는 방법을 스스로 결정할 수 있을 만큼 자율적인 객체들의 공동체를 설계하는 것이 객체지향 설계의 묘미
* **상태**와 **행동**을 함께 지닌 자율적인 객체
  * 객체가 협력에 참여하기 위해 어떤 **행동**을 해야 한다면 그 행동을 하는 데 필요한 **상태**도 함께 지니고 있어야 한다.
    * ex) 커피를 만드는 바리스타가 커피 제조법을 모른다는 것은 말이 안 됨
  * 객체의 자율성은 객체의 내부와 외부를 명확하게 구분하는 것으로부터 나옴
    * 객체는 다른 객체가 **무엇**을 수행하는 지는 알지만, **어떻게** 수행하는지는 알 수 없음
  * 자율적인 객체로 구성된 공동체는 유지보수가 쉽고 재사용이 용이한 시스템 구축 가능
* **협력**과 **메시지**
  * 객체들끼리의 의사소통 수단 = **메시지**
  * 한 객체가 다른 객체에게 요청하는 것 = 메시지를 **전송**한다.
  * 다른 객체로부터 요청 받는 것 = 메시지를 **수신**한다.
  * 메시지를 전송하는 객체 = **송신자** (sender)
  * 메시지를 수신하는 객체 = **수신자** (receiver)
* **메서드**와 자율성
  * 수신자는 수신된 메시지를 이해할 수 있는지 여부를 판단 후 미리 정해진 자신만의 방법에 따라 메시지를 처리한다.
    * 객체가 수신된 메시지를 처리하는 방법 = **메서드**

### 객체지향의 본질
1. 객체지향이란 시스템을 상호작용하는 **자율적인 객체들의 공동체**로 바라보고 객체를 이용해 시스템을 분할하는 방법
2. 자율적인 객체란 **상태**와 **행동**을 함께 지니며 스스로 자기 자신을 책임지는 객체
3. 객체는 시스템 기능을 구현하기 위해 다른 객체와 **협력**한다.
4. 각 객체는 협력 내에서 정해진 **역할**을 수행하며 역할은 관련된 **책임**의 집합이다.
5. 객체는 다른 객체와 협력하기 위해 **메시지**를 보내고, 메시지를 수신한 객체는 메시지를 처리하는 데 적합한 **메서드**를 자율적으로 선택한다.
* 객체지향이라는 말을 들으면 클래스가 떠오른다.
  * 클래스가 객체지향 프로그래밍 언어의 관점에서 중요한 구성요소이나, 객체지향의 중심 개념이라고 하기엔 무리가 있다.
* 훌륭한 객체지향 설계자가 되기 위해 거쳐야 할 도전
  * 클래스 관점 → **메시지를 주고 받는 객체의 관점**으로 사고 중심을 전환하기
  * 어떤 클래스가 필요한가가 아니라 어떤 객체들이 어떤 메시지를 주고받으며 협력하는가
    * 클래스는 객체들의 협력 관계를 코드로 옮겨담는 도구에 불과
  * 핵심은 적절한 책임을 수행하는 **역할 간의 유연하고 견고한 협력 관계 구축**
  * 클래스의 정적인 관계가 아닌, 메시지를 주고받는 객체들의 동적인 관계가 중요
* **객체지향은 객체를 지향하는 것이지, 클래스를 지향하는 것이 아니다.**
